let mapShowButton=document.querySelector(".map-show-button"),modalMap=document.querySelector(".modal-map"),mapClose=modalMap.querySelector(".modal-close"),writeUsShowButton=document.querySelector(".write-us-button"),modalWriteUs=document.querySelector(".modal-write-us"),writeUsClose=modalWriteUs.querySelector(".modal-close"),writeUsForm=modalWriteUs.querySelector(".modal-form"),modalInputName=writeUsForm.querySelector(".modal-input-name"),modalInputEmail=writeUsForm.querySelector(".modal-input-email"),modalTextarea=writeUsForm.querySelector(".modal-textarea-message"),promoSlides=document.querySelectorAll(".promo-list-item"),promoControls=document.querySelectorAll(".promo-slider-button"),serviceButtons=document.querySelectorAll(".services-button"),serviceCards=document.querySelectorAll(".services-cards-item"),isStorageSupport=!0,storage="";mapShowButton.addEventListener("click",function(e){e.preventDefault(),modalMap.classList.add("modal-show")}),mapClose.addEventListener("click",function(e){e.preventDefault(),modalMap.classList.remove("modal-show")});try{storage=localStorage.getItem("number-adults")}catch(e){isStorageSupport=!1}writeUsShowButton.addEventListener("click",function(e){e.preventDefault(),modalWriteUs.classList.add("modal-show"),storage?(modalInputName.value=storage,modalInputEmail.focus(),modalInputEmail.value&&modalTextarea.focus()):modalInputName.focus()}),writeUsClose.addEventListener("click",function(e){e.preventDefault(),modalWriteUs.classList.remove("modal-show"),modalWriteUs.classList.remove("modal-error")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(modalMap.classList.contains("modal-show")||modalWriteUs.classList.contains("modal-show"))&&(e.preventDefault(),modalMap.classList.remove("modal-show"),modalWriteUs.classList.remove("modal-show"),modalWriteUs.classList.remove("modal-error"))}),writeUsForm.addEventListener("submit",function(e){modalInputName.value&&modalInputEmail.value&&modalTextarea.value?(localStorage.setItem("user-name",modalInputName.value),localStorage.setItem("user-mail",modalInputEmail.value)):(e.preventDefault(),modalWriteUs.classList.remove("modal-error"),writeUsForm.offsetWidth=writeUsForm.offsetWidth,modalWriteUs.classList.add("modal-error"))});for(var clickHandlerPromo=function(e,o){e.addEventListener("click",function(){for(var t=0;t<promoSlides.length;t++)promoSlides[t].classList.remove("current-promo-item"),promoControls[t].classList.remove("current-slider-button");o.classList.add("current-promo-item"),e.classList.add("current-slider-button")})},i=0;i<promoSlides.length;i++)clickHandlerPromo(promoControls[i],promoSlides[i]);var clickHandlerService=function(e,o){e.addEventListener("click",function(t){t.preventDefault();for(var r=0;r<promoSlides.length;r++)serviceCards[r].classList.remove("current-services-cards-item"),serviceButtons[r].classList.remove("current-services-button");o.classList.add("current-services-cards-item"),e.classList.add("current-services-button")})};for(i=0;i<serviceCards.length;i++)clickHandlerService(serviceButtons[i],serviceCards[i]);
